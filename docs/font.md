# Font

## ankfont
ANK文字(0x00～0xff)のフォントを`IOCS _FNTADR`で取得し、テキスト画面に描画に描画します。
なにかコマンドライン引数を指定すると、CGROMから直接フォントを取得します。


## defchr_7621
文字コード`$7621`(Shift_JIS:`$eb9f`)の16ドットフォントを`IOCS _FNTGET`で取得し、
先頭32ドットを`$deadbeef`に書き換えて`IOCS _DEFCHR`で同じ文字に設定します。

通常は外字のフォントが書き換えられるだけですが、外字領域が確保されていない状態で実行するとアドレス
`$0`の内容が書き換えられてしまいます。


## defchr_81f8
文字コード(Shift_JIS)`$81f8`の16ドットフォントにナチュラル記号(♮)を定義します。

該当フォントは書き換えのできるメインメモリ上になければなりません
(IOCS.XやHIOCS.Xでフォントファイルを指定することで可能です)。


## exchr_hex
拡張外字処理を有効にして常駐終了します。常駐解除はできません。  
フォントは文字コード(内部形式)を16進数で表記したものを動的に生成します。  
16ドットフォントのみ対応しています(12ドットフォント、24ドットはすべて〿になります)。

あらかじめ、IOCS.XまたはHIOCS PLUS version 1.10+16.20以降を組み込んでおく必要があります。
* ROM IOCSは拡張外字処理に対応していないので使用できません。
* HIOCS.X、HIOCS PLUSの上記バージョン未満は`IOCS _FNTADR`に不具合があり暴走します。
* HIOCS PLUSのスイッチは`-u0`を指定してください(既定値なので変更していなければそのままで構いません)。


## fntget
コマンドライン引数で指定した文字(1文字)のフォントを拡大してテキストとして表示します。  
以下のオプションが指定できます。
* `-c<code>` ... 文字を文字コードで指定(例 `-c0xf058`)
* `-f<size>` ... フォントの大きさを指定(省略時は`-f0`)
  * `-f6` ... 半角6×12、全角12×12。
  * `-f0`、`-f8` ... 半角8×16、全角16×16。
  * `-f12` ... 半角12×24、全角24×24。


## fntsize
コマンドライン引数で指定した文字(省略時は半角スペース)について、
`IOCS _FNTADR`、`IOCS _FNTGET`の結果を一覧表示します。  
フォントサイズは未定義の値も含め各サイズを指定します。

`_FNTADR`でd2.b = 0～5、`_FNTGET`でd1.hw = 1～5のサイズを指定した場合、
IOCS環境(ROMまたはIOCS.Xのバージョン)によって結果が異なります。


## uskcg24
ユーザー定義外字の文字表を、テキスト画面に24ドットフォントで描画します。  
コマンドライン引数で動作モードを指定します。
- `a` ... 0x869f～0x879e 外字A
- `b` ... 0xeb9f～0xec9e 外字B
- `4` ... 0xf400～0xf4ff 半角外字
- `5` ... 0xf500～0xf5ff 半角外字


## uskfontadr
外字フォントデータのアドレスを表示します。

FORMAT.Xでフォーマットした空のフロッピーディスクに実行ファイルをコピーし、
ファイル名をHUMAN.SYSに変更すると、Human68kの代わりに起動することができます。


## uskhw_hex
半角外字(0xf400～0xf4ff、0xf500～0xf5ff)のフォントを、文字コードを16進数で表記したものに書き換えます
(16ドットフォントは下3桁、24ドットフォントは4桁)。  
IOCSコールの不具合を回避するため、フォントバッファに直接書き込みを行います。

* HIOCS.X、HIOCS PLUS version 1.10+16.21未満は`IOCS _FNTADR`に不具合があり、
  0xf400～0xf4ffの24ドットフォントが正しく取得できません。

