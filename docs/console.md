# Console

## bputmes_cur
`IOCS _B_CUROFF`でカーソル点滅を一時停止せずにカーソル描画中に`IOCS _B_PUTMES`を呼び出すと、
カーソルの反転描画が残ってしまう挙動を検証します。

これを防ぐには、`_B_PUTMES`の前後で`_B_CUROFF`と`_B_CURON`を呼び出します。


## con_scroll
コンソール画面のスクロールをテストします。  
なにかキーを押すと次のモードに進みます。


## dumpstdin
`DOS _READ`で標準入力からデータを読み込み(最大256バイト)、
戻り値(入力サイズまたはエラーコード)を表示します。
また、読み込んだデータを16進数で表示します。


## esc_dsr
エスケープシーケンス`ESC [6n`(DSR = Device Status Report)
を表示した際にキーバッファに入力されたデータを読み取って表示します。  
Human68Kの標準では`ESC [{pl};{pc}R`(CPR = Cursor Position Report)
が入力されますが、FEPによっては対応していません。


## gaiji_ttl
ユーザー定義外字でタイトルを表示するデモンストレーションです(それ以外の機能はありません)。

独自のデザインのロゴマークをもつソフトウェアには、タイトルを表示するときだけロゴを外字として
定義して表示する手法がありますが、condrv.sysのバックログで表示されない、ファイルにリダイレクト
するとファイル閲覧時に表示されない、といった問題があります。

そこで、標準出力がコンソールデバイスかどうか判別したり、バックログへ保存される文字に細工をする
ことにより、それらの問題の解消策を考案してみました。

なお、condrv.sys組み込み時に-nb -neオプションを指定しなかった場合はきれいなバックログになりません。


## putmes12
コマンドライン引数で指定した文字列を、テキスト画面に12ドットフォントで描画します。  


## putmes24
コマンドライン引数で指定した文字列を、テキスト画面に24ドットフォントで描画します。  


## tpalreset
テキストパレットをシステム設定値に戻します。

