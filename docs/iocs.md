# IOCS CALL

## iocs_b_clr_st
`IOCS _B_CLR_ST`で画面の複数行を消去します。

コマンドライン引数で範囲を指定できます(無指定時は`2`)。
* `0` ... カーソル位置から最終行右端まで。
* `1` ... 先頭行左端からカーソル位置まで。
* `2` ... 画面全体。


## iocs_b_conmod
`IOCS _B_CONMOD`でカーソルやスクロールの動作を設定します。

コマンドライン引数でモードを指定します。
* `0` ... カーソル点滅許可。
* `1` ... カーソル点滅禁止。
* `2` ... カーソルパターン指定。8桁の16進数を指定します。
* `3` ... カーソルパターン定義。8桁の16進数を8個指定します。
* `16` ... スムーススクロール指定。0～3を指定します。
* `17` ... ラスタコピースクロール指定。
* `18` ... ソフトコピースクロール指定。


## iocs_b_del
コマンドライン引数で指定した行数だけ、`IOCS _B_DEL`で画面から削除します。


## iocs_b_ins
コマンドライン引数で指定した行数だけ、`IOCS _B_INS`で画面に挿入します。


## iocs_datebcd
コマンドライン引数で指定したバイナリ形式の日付データ(省略時は現在日)を、
`IOCS _DATEBCD`でBCD形式に変換して表示します。


## iocs_datebin
コマンドライン引数で指定したBCD形式の日付データ(省略時は現在日)を、
`IOCS _DATEBIN`でバイナリ形式に変換して表示します。


## iocs_dateget
`IOCS _DATEGET`で日付を取得して表示します。


## iocs_dateset
コマンドライン引数で指定したBCD形式の日付データ(16進数)を、`IOCS _DATESET`でRTCに設定します。
戻り値は常に0になります。


## iocs_ontime
`IOCS _ONTIME`で取得した起動後の経過時間を表示します。  
なにかコマンドライン引数を指定すると日数、時分秒と1/100秒に変換して表示します。


## iocs_timebcd
コマンドライン引数で指定したバイナリ形式の時刻データ(省略時は現在時)を、
`IOCS _TIMEBCD`でBCD形式に変換して表示します。


## iocs_timebin
コマンドライン引数で指定したBCD形式の時刻データ(省略時は現在時)を、
`IOCS _TIMEBIN`でバイナリ形式に変換して表示します。


## iocs_timeget
`IOCS _TIMEGET`で時刻を取得して表示します。


## iocs_timeset
コマンドライン引数で指定したBCD形式の時刻データを、`IOCS _TIMESET`でRTCに設定します。
戻り値は常に0になります。


## iocs_txfill
`IOCS _TXFILL`のサンプルです。


## iocs_txyline
`IOCS _TXYLINE`のサンプルです。


## iocs_txrascpy
`IOCS _TXRASCPY`によるラスタコピーを行います。  
使用法: iocs_txrascpy コピー元 コピー先 ラスタ数 移動方向(0:下,-1:上) テキストプレーン  
移動方向、テキストプレーンは省略できます(省略時は0:下、%0011となります)。

X68000をクロックアップ改造しているとラスタコピーに失敗して画面が乱れることがあります。  
IOCS.XやHIOCS.Xを組み込んでいるとコンソールのスクロールに内部のルーチンを使うほか、
アプリケーションによっては独自のラスタコピールーチンを持っているため、
`IOCS _TXRASCPY`が呼び出される機会がなく後から問題に気づくこともしばしばあるようです。

画面が乱れる場合は、`IOCS _TXRASCPY`を高クロック対応ルーチンに差し替えるドライバを組み込んでください
(HIOCS PLUS version 1.10+16.17以降など)。
