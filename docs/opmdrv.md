# OPMDRV\*.X

## m_alloc
`OPM _M_ALLOC`でトラックバッファを確保し、結果を表示します。
コマンドライン引数でトラック番号とバッファサイズ(バイト数)を指定します。


## m_free
`OPM _M_FREE`でトラックバッファの残りバイト数を取得し、結果を表示します。
コマンドライン引数でトラック番号を指定します。


## m_init
`OPM _M_INIT`でトラックバッファを初期化し、結果を表示します。
OPMDRV3.Xでは音色を初期化するモードで呼び出していますが、
なにかコマンドライン引数を指定すると音色を初期化しないモードになります。


## m_trk
`OPM _M_TRK`でトラックへMMLを書き込み、、結果を表示します。
コマンドライン引数でトラック番号とMMLを指定します。


## opmdrvtype
組み込まれているOPMDRV\*.Xの種類を表示します。

OPMDRV3.Xの場合はファンクションコールで取得したバージョン番号と作成年月日も表示します。
なお組み込み時にversion 1.11と表示されるファイルは、バージョン番号は1.2となっています。

Z-MUSIC v2/v3、MEW OPM DRIVERなどの互換ドライバは組み込みなしとして扱います。

OPMDRV.XとOPMDRV2.Xをファンクションコールで判別することはできそうにないので、
`IOCS _OPMDRV`の処理ルーチンの先頭の命令を見て判別しています。
OPMDRV\*.Xや互換ドライバの種類やバージョンによっては誤判別する可能性があります。

